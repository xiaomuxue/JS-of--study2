<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Cookie测试_记住密码</title>
<script type="text/javascript" src="yclib.js"></script>
<script type="text/javascript" src="Cookies.js"></script>

</head>

<body>

   <form id="myform" name="myform">
       <p>用户名：<input type="text" id="uname" name="uname" /></p>
       <p>密码：<input type="password" id="pwd" name="pwd" /></p>
       <p><select id="times" name="times">
               <option value="1">一天</option>
               <option value="5">五天</option>
               <option value="0">永久</option>
           </select>
       </p>
       <p>
           <input type="checkbox" id="issave"/>是否保存用户信息
       </p>
       <p>
           <input type="button" id="btn" name="btn" />
       </p>
       
       <script type="text/javascript">
	   
	   //当页面加载时，查看是否存了uname，pwd,如果存了，则显示
	   yc.addLoadEvent(function(){
	         if( Cookies.get("uname")){
		          yc.$("uname").value=Cookies.get("uname");
				  yc.$("pwd").value=Cookies.get("pwd");
				  yc.$("issave").checked=true;      //获取issave，判断它是否勾选了
			  }
	   });
	   
        yc.addLoadEvent(function(){
			    //记住密码
			    yc.addEvent('issave','change',function(){
				     if(yc.$("issave").checked){
				         if(yc.$("uname").value && yc.$("pwd").value){
						      var times=yc.$("times").value;
							  Cookies.set('uname',yc.$("uname").value,times*24*60);
							  Cookies.set('pwd',yc.$("pwd").value,times*24*60);
						}
					 }else{
					     Cookies.del( 'uname' );
						 Cookies.del( 'pwd' );
					 }
				});
			});
       </script>
       
</body>
</html>
